{"version":3,"sources":["contexts/AuthReducer.js","contexts/AuthContext.js","components/topbar/TopBar.jsx","components/friends/Friend.jsx","components/sidebar/SideBar.jsx","components/ads/Ads.jsx","components/online/Online.jsx","components/rightbar/RightBar.jsx","base.js","components/share/Share.jsx","components/post/dropdown/Dropdown.jsx","components/post/shareButton/ShareButton.jsx","components/post/Post.jsx","components/feed/Feed.jsx","pages/Home/Home.jsx","pages/Profile/Profile.jsx","apiCalls.js","pages/Login/Login.jsx","pages/Register/Register.jsx","components/Comment/Comment.jsx","pages/PostInfo/PostInfo.jsx","components/searchResult/SearchResult.jsx","pages/Search/Search.jsx","pages/StaredPosts/Stared.jsx","pages/Videos/Videos.jsx","pages/Images/Images.jsx","pages/Popular/Popular.jsx","pages/Followers/Followers.jsx","pages/Followings/Followings.jsx","pages/ProfileEdit/ProfileEdit.jsx","components/Conversations/Conversations.jsx","components/Message/Message.jsx","components/ChatOnline/ChatOnline.jsx","pages/Messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","TYPE","user","isFetching","error","localStorage","setItem","JSON","stringify","_id","payload","email","removeItem","followings","filter","following","staredPosts","INITIAL_STATE","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","a","getItem","parse","axios","get","res","data","console","log","Provider","value","TopBar","useContext","searchInput","useRef","history","useHistory","className","to","style","textDecoration","onSubmit","e","preventDefault","push","current","border","background","Search","type","placeholder","ref","Chat","backgroundColor","margin","onClick","userAddress","src","profilePicture","PF","alt","Friend","userName","SideBar","useState","friends","setFriends","sideClass","setSideClass","getFriends","ArrowBack","ArrowForward","RssFeed","Group","PlayCircleOutline","Image","Star","Event","WorkOutline","map","index","Ads","target","image","href","Online","friend","setFriend","alert","display","alignItems","RightBar","profile","onlineUsers","process","currentUser","includes","followed","setFollowed","Birthday","position","overflowX","followHandler","put","userId","newChatHandler","post","senderId","receiverId","Info","city","from","relationship","Followings","justifyContent","Remove","Add","Edit","color","ProfileRightbar","setOnlineFriends","f","CircularProgress","fontWeight","HomeRightbar","app","initializeApp","projectId","appId","storageBucket","locationId","apiKey","authDomain","messagingSenderId","measurementId","storage","getStorage","upload","file","filename","endsWith","storageRef","uploadBytes","then","getDownloadURL","url","deleteFile","fileType","fileRef","deleteObject","Share","setFile","loading","setLoading","description","submitHandler","newPost","undefined","fileName","Date","now","Math","floor","random","name","srcType","window","location","reload","ShareTop","URL","createObjectURL","Cancel","controls","ShareBottom","htmlFor","PermMedia","htmlColor","id","accept","onChange","files","Label","Room","EmojiEmotions","width","Dropdown","postId","stared","postUserId","postSrcName","postType","isStared","setIsStared","handleStar","message","handleDelete","delete","catch","err","Delete","ShareButton","ShareOutlined","Post","likes","length","setLikes","isLiked","setIsLiked","setUser","open","setOpen","handleLike","like","opacity","visibility","format","createdAt","MoreVert","cursor","comments","Feed","username","popular","profileEdit","videos","images","posts","setPosts","followers","Home","Profile","useParams","coverPicture","fontSize","loginCall","userCredentials","response","Login","password","handleSubmit","required","minLength","maxLength","disabled","size","Register","passwordConfirm","responce","statusText","Comment","comment","PostInfo","setPost","setReload","addComment","right","marginTop","SearchResult","query","searchUserResults","setUserResults","searchPostResults","setPostResults","Stared","Videos","Images","Popular","Followers","setFollowers","getFollowers","follower","getFollowings","ProfileEdit","profilePic","setProfilePic","coverPic","setCoverPic","setName","setDescription","setRelationship","setFrom","setCity","updateProfile","updateObj","height","Conversations","conversation","friendId","members","find","m","getUser","Message","own","text","ChatOnline","setCurrentChat","setCurrent","setOnlineUsers","onlineFriends","online","Messenger","socket","conversations","setConversations","currentChat","messages","setMessages","arrivalMessage","setArrivalMessage","newMessage","setNewMessage","scrollRef","on","sender","prev","getConversations","getMessages","scrollIntoView","behavior","conversationId","emit","isOwn","App","setSocket","io","users","some","u","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.973a0041.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n    switch (action.TYPE) {\r\n        case \"LOGIN_START\":\r\n            return {\r\n                user: null,\r\n                isFetching: true,\r\n                error: false,\r\n            };\r\n            break;\r\n\r\n        case \"LOGIN_SUCCESS\":\r\n            localStorage.setItem(\r\n                \"user\",\r\n                JSON.stringify({\r\n                    _id: action.payload._id,\r\n                    email: action.payload.email,\r\n                })\r\n            );\r\n            return {\r\n                user: action.payload,\r\n                isFetching: false,\r\n                error: false,\r\n            };\r\n            break;\r\n\r\n        case \"LOGIN_FAILURE\":\r\n            return {\r\n                user: null,\r\n                isFetching: false,\r\n                error: true,\r\n            };\r\n            break;\r\n\r\n        case \"LOGIN_OUT\":\r\n            localStorage.removeItem('user');\r\n            return {\r\n                user: null,\r\n                isFetching: false,\r\n                error: false,\r\n            };\r\n            break;\r\n\r\n        case \"FOLLOW\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: [...state.user.followings, action.payload],\r\n                },\r\n            };\r\n        case \"UNFOLLOW\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: state.user.followings.filter(\r\n                        (following) => following !== action.payload\r\n                    ),\r\n                },\r\n            };\r\n\r\n        case \"UNSTAR\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    staredPosts: state.user.staredPosts.filter(\r\n                        (following) => following !== action.payload\r\n                    ),\r\n                },\r\n            };\r\n        case \"STAR\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    staredPosts: [...state.user.staredPosts, action.payload],\r\n                },\r\n            };\r\n        case \"UPDATE\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    ...action.payload,\r\n                },\r\n            };\r\n        default:\r\n            break;\r\n    }\r\n};\r\n\r\nexport default AuthReducer;\r\n","import { createContext, useReducer, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n    user: null,\r\n    isFetching: false,\r\n    error: false,\r\n};\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\nexport const AuthContextProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n\r\n    useEffect(async () => {\r\n        if (localStorage.getItem(\"user\")) {\r\n            try {\r\n                const user = JSON.parse(localStorage.getItem(\"user\"));\r\n                dispatch({ TYPE: \"LOGIN_START\" });\r\n                const res = await axios.get(\"/api/users?userId=\" + user._id);\r\n                const data = res.data;\r\n                dispatch({ TYPE: \"LOGIN_SUCCESS\", payload: data });\r\n            } catch (err) {\r\n                console.log(err);\r\n                dispatch({ TYPE: \"LOGIN_FAILURE\" });\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{\r\n                user: state.user,\r\n                isFetching: state.isFetching,\r\n                error: state.error,\r\n                dispatch: dispatch,\r\n            }}\r\n        >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n","import { Search, Person, Chat, Notifications } from \"@material-ui/icons\";\r\nimport \"./TopBar.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useContext, useRef } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nexport default function TopBar() {\r\n    const { user, dispatch } = useContext(AuthContext);\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const searchInput = useRef();\r\n    const history = useHistory();\r\n\r\n    const search = (e) => {\r\n        e.preventDefault();\r\n        history.push(\"/search/\" + searchInput.current.value);\r\n    };\r\n\r\n    return (\r\n        <div className=\"topbar__container\">\r\n            <div className=\"topbar__left\">\r\n                <Link\r\n                    to=\"/\"\r\n                    className=\"topbar__logo\"\r\n                    style={{ textDecoration: \"none\" }}\r\n                >\r\n                    G Social\r\n                </Link>\r\n            </div>\r\n            <div className=\"topbar__center\">\r\n                <form className=\"searchBar\" onSubmit={search}>\r\n                    <button style={{ border: \"none\", background: \"none\" }}>\r\n                        <Search className=\"searchIcon\" />\r\n                    </button>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search for friend,Post or video\"\r\n                        className=\"searchInput\"\r\n                        ref={searchInput}\r\n                    />\r\n                </form>\r\n            </div>\r\n            <div className=\"topbar__right\">\r\n                {user ? (\r\n                    <>\r\n                        <div className=\"topbar__links\">\r\n                            <Link to=\"/conversation\" className=\"topbar__link\">Message</Link>\r\n                            <Link to=\"/\" className=\"topbar__link\">Timeline</Link>\r\n                        </div>\r\n                        <div className=\"topbar__icons\">\r\n                            {/* <div className=\"topbar__iconItem\">\r\n                                <Person />\r\n                                <div className=\"topbar__iconBadge\">1</div>\r\n                            </div> */}\r\n                            <Link to=\"/conversation\">\r\n                                <div className=\"topbar__iconItem\">\r\n                                    <Chat />\r\n                                    <div className=\"topbar__iconBadge\">2</div>\r\n                                </div>\r\n                            </Link>\r\n                            {/* <div className=\"topbar__iconItem\">\r\n                                <Notifications />\r\n                                <div className=\"topbar__iconBadge\">3</div>\r\n                            </div> */}\r\n                        </div>\r\n                    </>\r\n                ) : null}\r\n                {user ? (\r\n                    <button\r\n                        className=\"rightbar__editBtn\"\r\n                        style={{\r\n                            backgroundColor: \"rgb(0, 104, 255)\",\r\n                            margin: \"0\",\r\n                        }}\r\n                        onClick={() => {\r\n                            dispatch({ TYPE: \"LOGIN_OUT\" });\r\n                        }}\r\n                    >\r\n                        Log Out\r\n                    </button>\r\n                ) : (\r\n                    <button\r\n                        className=\"rightbar__editBtn\"\r\n                        style={{\r\n                            backgroundColor: \"rgb(0, 104, 255)\",\r\n                            margin: \"0\",\r\n                        }}\r\n                        onClick={() => {\r\n                            history.push(\"/login\");\r\n                        }}\r\n                    >\r\n                        Log In\r\n                    </button>\r\n                )}\r\n\r\n                {user ? (\r\n                    <Link to={`/profile/${user?.userAddress}`}>\r\n                        <img\r\n                            className=\"topbar__photo\"\r\n                            src={\r\n                                user?.profilePicture !== \"\"\r\n                                    ? user?.profilePicture\r\n                                    : PF + \"/user.png\"\r\n                            }\r\n                            alt=\"your image\"\r\n                        />\r\n                    </Link>\r\n                ) : null}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Friend.css\";\r\n\r\nexport default function Friend({ user }) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    return (\r\n        <Link to={`/profile/${user.userAddress}`}>\r\n            <li className=\"sidebar__friend\">\r\n                <img\r\n                    src={\r\n                        user.profilePicture\r\n                            ? user.profilePicture\r\n                            : PF + \"/user.png\"\r\n                    }\r\n                    alt=\"friends photo\"\r\n                    className=\"sidebar__friendImg\"\r\n                />\r\n                <span className=\"sidebar__friendName\">{user?.userName}</span>\r\n            </li>\r\n        </Link>\r\n    );\r\n}\r\n","import \"./Sidebar.css\";\r\nimport {\r\n    RssFeed,\r\n    PlayCircleOutline,\r\n    Group,\r\n    WorkOutline,\r\n    Event,\r\n    Star,\r\n    Image,\r\n    ArrowBack,\r\n    ArrowForward,\r\n    Chat\r\n} from \"@material-ui/icons\";\r\nimport Friend from \"../friends/Friend\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Users } from \"../../dummyData\";\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\nexport default function SideBar() {\r\n    const [friends, setFriends] = useState([]);\r\n    const { user } = useContext(AuthContext);\r\n    const [sideClass, setSideClass] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const getFriends = async () => {\r\n            try {\r\n                const res = await axios.get(`/api/users/friends/${user?._id}`);\r\n                // console.clear();\r\n                setFriends(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        getFriends();\r\n    }, [user?._id, user]);\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className={\r\n                    !sideClass\r\n                        ? \"sidebar__toggle-active sidebar__toggle\"\r\n                        : \"sidebar__toggle\"\r\n                }\r\n                onClick={() => {\r\n                    setSideClass(!sideClass);\r\n                }}\r\n            >{sideClass ? <ArrowBack/> : <ArrowForward/>}</div>\r\n            <div className={`sidebar ${sideClass ? \"sidebar-active\" : \"\"}`}>\r\n                <div className=\"sidebar__wrapper\">\r\n                    <ul className=\"sidebar__list\">\r\n                        <Link to=\"/\">\r\n                            <li className=\"sidebar__listItem\">\r\n                                <RssFeed className=\"sidebar__icon\" />\r\n                                <span className=\"sidebar__listText\">Feed</span>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/popular\">\r\n                            <li className=\"sidebar__listItem\">\r\n                                <Group className=\"sidebar__icon\" />\r\n                                <span className=\"sidebar__listText\">\r\n                                    Popular\r\n                                </span>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/videos\">\r\n                            <li className=\"sidebar__listItem\">\r\n                                <PlayCircleOutline className=\"sidebar__icon\" />\r\n                                <span className=\"sidebar__listText\">\r\n                                    Videos\r\n                                </span>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/images\">\r\n                            <li className=\"sidebar__listItem\">\r\n                                <Image className=\"sidebar__icon\" />\r\n                                <span className=\"sidebar__listText\">Image</span>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/stared\">\r\n                            <li className=\"sidebar__listItem\">\r\n                                <Star className=\"sidebar__icon\" />\r\n                                <span className=\"sidebar__listText\">\r\n                                    Stared\r\n                                </span>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to={`/friends/${user?._id || \"\"}`}>\r\n                            <li className=\"sidebar__listItem\">\r\n                                <Event className=\"sidebar__icon\" />\r\n                                <span className=\"sidebar__listText\">\r\n                                    Friends\r\n                                </span>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to={`/followers/${user?._id || \"\"}`}>\r\n                            <li className=\"sidebar__listItem\">\r\n                                <WorkOutline className=\"sidebar__icon\" />\r\n                                <span className=\"sidebar__listText\">\r\n                                    Followers\r\n                                </span>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/conversation\">\r\n                        <li className=\"sidebar__listItem\">\r\n                            <Chat className=\"sidebar__icon\" />\r\n                            <span className=\"sidebar__listText\">Chat</span>\r\n                        </li>\r\n                        </Link>\r\n                    </ul>\r\n                    <button className=\"sidebar__button\">Show more</button>\r\n                    <hr className=\"sidebar__hr\" />\r\n                    <ul className=\"sidebar__friendList\">\r\n                        {friends?.map((user, index) => (\r\n                            <Friend user={user} key={index} />\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import \"./Ads.css\";\r\n\r\nexport default function Ads({ target, image }) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    return (\r\n        <>\r\n            <a href={target} target=\"_blank\" className=\"advertisement\">\r\n                <img\r\n                    src={\"https://cdn2.vectorstock.com/i/1000x1000/21/86/coffee-advertisement-realistic-composition-vector-20772186.jpg\"}\r\n                    alt=\"advertisement\"\r\n                    className=\"rightbar__ad\"\r\n                />\r\n            </a>\r\n        </>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Online.css\";\r\n\r\nexport default function Online({ user }) {\r\n    const [friend, setFriend] = useState(null);\r\n\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const res = await axios.get(\"/api/users?userId=\" + user);\r\n            setFriend(res.data);\r\n        } catch (err) {\r\n            alert(\"Cannot get Online Friend\");\r\n        }\r\n    }, []);\r\n    return (\r\n        <>\r\n            <li style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                <div className=\"rightbar__image-container\">\r\n                    <img\r\n                        src={\r\n                            friend?.profilePicture\r\n                                ? friend?.profilePicture\r\n                                : PF + \"/user.png\"\r\n                        }\r\n                        alt=\"friend__photo\"\r\n                        className=\"rightbar__friendPhoto\"\r\n                    />\r\n                    <span className=\"rightbar__online\"></span>\r\n                </div>\r\n                <Link\r\n                    to={\"/profile/\" + friend?.userAddress}\r\n                    className=\"rightbar__friendName\"\r\n                >\r\n                    {friend?.userName}\r\n                </Link>\r\n            </li>\r\n        </>\r\n    );\r\n}\r\n","import \"./RightBar.css\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { Add, Chat, Edit, Remove } from \"@material-ui/icons\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport Ads from \"../ads/Ads\";\r\nimport Online from \"../online/Online\";\r\nimport axios from \"axios\";\r\n\r\nexport default function RightBar({ profile, user, onlineUsers }) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const { user: currentUser, dispatch } = useContext(AuthContext);\r\n    const [friends, setFriends] = useState([]);\r\n    let [followed, setFollowed] = useState(\r\n        currentUser?.followings.includes(user?._id) ? true : false\r\n    );\r\n\r\n    const HomeRightbar = () => {\r\n        const [friends, setFriends] = useState([]);\r\n        const [onlineFriends, setOnlineFriends] = useState([]);\r\n\r\n        useEffect(() => {\r\n            const getFriends = async () => {\r\n                try {\r\n                    if (currentUser) {\r\n                        const res = await axios.get(\r\n                            \"/api/users/friends/\" + currentUser?._id\r\n                        );\r\n                        setFriends(res.data);\r\n                    }\r\n                } catch (err) {\r\n                    console.log(err);\r\n                    alert(\"Failed to get friends\");\r\n                }\r\n            };\r\n            getFriends();\r\n        }, [currentUser]);\r\n\r\n        useEffect(() => {\r\n            if (onlineUsers) {\r\n                setOnlineFriends(\r\n                    friends?.filter((f) => {\r\n                        return onlineUsers?.includes(f._id);\r\n                    })\r\n                );\r\n            }\r\n        }, [friends, onlineUsers]);\r\n\r\n        return (\r\n            <>\r\n                <Birthday PF={PF} />\r\n                <Ads target=\"#\" image=\"/ad.png\" />\r\n                <h4 className=\"rightbar__title\">Online friends</h4>\r\n                <ul\r\n                    className=\"rightbar__friends\"\r\n                    style={\r\n                        !onlineUsers\r\n                            ? {\r\n                                  justifyContent: \"center\",\r\n                                  display: \"flex\",\r\n                                  alignItems: \"center\",\r\n                              }\r\n                            : null\r\n                    }\r\n                >\r\n                    {currentUser ? (\r\n                        <>\r\n                            {onlineUsers ? (\r\n                                onlineUsers?.map((user, index) => (\r\n                                    <Online user={user} key={index} />\r\n                                ))\r\n                            ) : (\r\n                                <CircularProgress />\r\n                            )}\r\n                        </>\r\n                    ) : (\r\n                        <h2 style={{ fontWeight: \"lighter\" }}>Please Login</h2>\r\n                    )}\r\n                </ul>\r\n            </>\r\n        );\r\n    };\r\n    console.log(user);\r\n    console.log(currentUser);\r\n\r\n    const ProfileRightbar = () => {\r\n        useEffect(() => {\r\n            const getFriends = async () => {\r\n                try {\r\n                    const res = await axios.get(\r\n                        `/api/users/friends/${user?._id}`\r\n                    );\r\n                    // console.clear();\r\n                    setFriends(res.data);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                }\r\n            };\r\n            getFriends();\r\n        }, [user?._id]);\r\n\r\n        useEffect(() => {\r\n            setFollowed(\r\n                currentUser?.followings.includes(user?._id) ? true : false\r\n            );\r\n        }, [currentUser, user]);\r\n\r\n        const followHandler = async () => {\r\n            try {\r\n                if (followed) {\r\n                    await axios.put(`/api/users/${user._id}/unfollow`, {\r\n                        userId: currentUser._id,\r\n                    });\r\n                    dispatch({ TYPE: \"UNFOLLOW\", payload: user._id });\r\n                } else {\r\n                    await axios.put(`/api/users/${user._id}/follow`, {\r\n                        userId: currentUser._id,\r\n                    });\r\n                    dispatch({ TYPE: \"FOLLOW\", payload: user._id });\r\n                }\r\n                setFollowed(!followed);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n\r\n        const newChatHandler = async () => {\r\n            try {\r\n                const res = await axios.post(`/api/conversations/`, {\r\n                    senderId: currentUser?._id,\r\n                    receiverId: user?._id,\r\n                });\r\n                if (res.data.type === \"Object Exists\") {\r\n                    alert(\"Conversation already exists\");\r\n                } else {\r\n                    alert(\"Chat room has been created successfully\");\r\n                }\r\n            } catch (err) {\r\n                console.log(err);\r\n\r\n                alert(\"Sorry some error occurred cant create the chat room\");\r\n            }\r\n        };\r\n\r\n        function Info({ PF, user }) {\r\n            return (\r\n                <div className=\"rightbar__info\">\r\n                    <div className=\"rightbar__info-item\">\r\n                        <span className=\"rightbar__info-key\">City</span>\r\n                        <span className=\"rightbar__info-value\">\r\n                            {user?.city ? user.city : \"none\"}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"rightbar__info-item\">\r\n                        <span className=\"rightbar__info-key\">From</span>\r\n                        <span className=\"rightbar__info-value\">\r\n                            {user?.from ? user.from : \"none\"}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"rightbar__info-item\">\r\n                        <span className=\"rightbar__info-key\">Relationship</span>\r\n                        <span className=\"rightbar__info-value\">\r\n                            {user?.relationship ? user.relationship : \"none\"}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        function Followings({ PF }) {\r\n            return (\r\n                <div className=\"rightbar__followings\">\r\n                    {friends.map((friend) => {\r\n                        return (\r\n                            <Link\r\n                                to={`/profile/${friend.userAddress}`}\r\n                                style={{ textDecoration: \"none\" }}\r\n                            >\r\n                                <div className=\"rightbar__following\">\r\n                                    <img\r\n                                        src={\r\n                                            friend?.profilePicture\r\n                                                ? friend.profilePicture\r\n                                                : PF + \"/user.png\"\r\n                                        }\r\n                                        alt=\"friends photo\"\r\n                                        className=\"rightbar__followingImg\"\r\n                                    />\r\n                                    <span className=\"rightbar__followingUserName\">\r\n                                        {friend.userName}\r\n                                    </span>\r\n                                </div>\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"rightbar__bts\"\r\n                    style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-evenly\",\r\n                    }}\r\n                >\r\n                    {user?._id !== currentUser?._id && currentUser ? (\r\n                        <button\r\n                            className=\"rightbar__followBtn\"\r\n                            onClick={followHandler}\r\n                        >\r\n                            {followed ? \"unFollow\" : \"Follow\"}\r\n                            {followed ? <Remove /> : <Add />}\r\n                        </button>\r\n                    ) : null}\r\n                    {user?._id === currentUser?._id || !user ? (\r\n                        <>\r\n                            <Link to={`/profile/${user?._id}/edit`}>\r\n                                <button className=\"rightbar__editBtn\">\r\n                                    Edit\r\n                                    <Edit />\r\n                                </button>\r\n                            </Link>\r\n                        </>\r\n                    ) : null}\r\n                    {user?._id !== currentUser?._id && user && currentUser ? (\r\n                        <>\r\n                            <button\r\n                                className=\"rightbar__editBtn\"\r\n                                onClick={newChatHandler}\r\n                            >\r\n                                Chat\r\n                                <Chat />\r\n                            </button>\r\n                        </>\r\n                    ) : null}\r\n                </div>\r\n                <div className=\"rightbar__userInfo\">\r\n                    <h4 className=\"rightbar__title\">User Information</h4>\r\n                    <Info PF={PF} user={user} />\r\n                </div>\r\n                <div className=\"rightbar__followings-container\">\r\n                    <h4 className=\"rightbar__title\">User Friends</h4>\r\n                    <Followings PF={PF} />\r\n                </div>\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-evenly\",\r\n                        color: \"rgb(11, 83, 187)\",\r\n                    }}\r\n                >\r\n                    <Link to={\"/friends/\" + user._id}>See all Friends</Link>\r\n                    <Link to={\"/followers/\" + user._id}>See all Followers</Link>\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n    function Birthday({ PF }) {\r\n        return (\r\n            <div className=\"rightbar__birthday\">\r\n                <img\r\n                    src={PF + \"/gift.png\"}\r\n                    alt=\"Happy Birthday\"\r\n                    className=\"birthday__image\"\r\n                />\r\n                <span className=\"birthday__text\">\r\n                    <b>John Smith</b>\r\n                    <b>and 3 others</b> has birthday today!\r\n                </span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={profile ? \"rightbar\" : \"rightbar rightbar-home\"}\r\n            style={profile ? { position: \"initial\", overflowX: \"unset\" } : null}\r\n        >\r\n            <div className=\"rightbar__wrapper\">\r\n                {profile ? ProfileRightbar() : HomeRightbar()}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { initializeApp } from \"firebase/app\";\r\nimport {\r\n    getStorage,\r\n    ref,\r\n    uploadBytes,\r\n    getDownloadURL,\r\n    deleteObject,\r\n} from \"firebase/storage\";\r\n\r\nexport const app = initializeApp({\r\n    projectId: \"socialmedia-8c50b\",\r\n    appId: \"1:659710868243:web:701707ae22e534833738e6\",\r\n    storageBucket: \"socialmedia-8c50b.appspot.com\",\r\n    locationId: \"asia-south1\",\r\n    apiKey: \"AIzaSyBKhyqduWabwS1rqkLz069YIYCkuJWsNW8\",\r\n    authDomain: \"socialmedia-8c50b.firebaseapp.com\",\r\n    messagingSenderId: \"659710868243\",\r\n    measurementId: \"G-37467H01J1\",\r\n});\r\n\r\nconst storage = getStorage(app);\r\n\r\nexport const upload = (file, filename) => {\r\n    // Create a storage reference from our  storage service\r\n    // uploading\r\n    console.log(\"uploading \");\r\n    if (\r\n        filename.endsWith(\".jpg\") ||\r\n        filename.endsWith(\".png\") ||\r\n        filename.endsWith(\".jpeg\")\r\n    ) {\r\n        const storageRef = ref(storage, \"images/\" + filename);\r\n        return uploadBytes(storageRef, file).then(() => {\r\n            return getDownloadURL(ref(storage, \"images/\" + filename)).then(\r\n                (url) => {\r\n                    console.log(url);\r\n                    return url;\r\n                }\r\n            );\r\n        });\r\n    } else if (filename.endsWith(\".mp4\")) {\r\n        const storageRef = ref(storage, \"videos/\" + filename);\r\n        return uploadBytes(storageRef, file).then(() => {\r\n            return getDownloadURL(ref(storage, \"videos/\" + filename)).then(\r\n                (url) => {\r\n                    console.log(url);\r\n                    return url;\r\n                }\r\n            );\r\n        });\r\n    }\r\n};\r\n\r\nexport const deleteFile = (filename, fileType) => {\r\n    console.log(filename,fileType)\r\n    const fileRef = ref(storage, fileType + \"s/\" + filename);\r\n    console.log(fileRef)\r\n    return deleteObject(fileRef);\r\n};\r\n","import \"./Share.css\";\r\nimport {\r\n    Cancel,\r\n    EmojiEmotions,\r\n    Label,\r\n    PermMedia,\r\n    Room,\r\n} from \"@material-ui/icons\";\r\nimport { upload } from \"../../base\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { useContext, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Share() {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const { user } = useContext(AuthContext);\r\n    const [file, setFile] = useState();\r\n    const [loading, setLoading] = useState(\"Share\");\r\n    const description = useRef();\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        const newPost = {\r\n            userId: user._id,\r\n            description: description.current.value,\r\n        };\r\n        try {\r\n            if (file != undefined) {\r\n                const fileName = `${Date.now()}${user?.userAddress}${Math.floor(\r\n                    Math.random() * 1000\r\n                )}_${file.name}`;\r\n                // let data = new FormData();\r\n                // data.append(\"name\", fileName);\r\n                // data.append(\"file\", file);\r\n                setLoading(\"Uploading File\");\r\n                const url = await upload(file, fileName);\r\n                newPost.src = url;\r\n                const type =\r\n                    fileName.endsWith(\".jpg\") ||\r\n                    fileName.endsWith(\".png\") ||\r\n                    fileName.endsWith(\".jpeg\")\r\n                        ? \"image\"\r\n                        : \"video\";\r\n                console.log(type)\r\n                newPost.srcType = type;\r\n                newPost.name = fileName;\r\n                // const u = await axios.post(\"/api/upload\",data);\r\n            }\r\n            setLoading(\"Creating Post\");\r\n            const res = await axios.post(\"/api/posts/\", newPost);\r\n            setLoading(\"Share\");\r\n            window.location.reload();\r\n        } catch (err) {\r\n            console.log(err);\r\n            setLoading(\"Share\");\r\n            alert(\"Sorry can't uploaded the post\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"share\">\r\n            <div className=\"share__wrapper\">\r\n                <ShareTop PF={PF} />\r\n                <hr className=\"share__hr\" />\r\n                {/* {file && (\r\n\r\n                )} */}\r\n                {file?.type?.includes(\"image\") ? (\r\n                    <div className=\"share__image-container\">\r\n                        <img\r\n                            src={URL.createObjectURL(file)}\r\n                            alt=\"image\"\r\n                            className=\"share__image\"\r\n                        />\r\n                        <Cancel\r\n                            className=\"share__cancel-image\"\r\n                            onClick={() => {\r\n                                setFile(null);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                ) : null}\r\n                {!file?.type?.includes(\"image\") &&\r\n                file?.type?.includes(\"video\") ? (\r\n                    <div className=\"share__image-container\">\r\n                        <video\r\n                            src={URL.createObjectURL(file)}\r\n                            alt=\"image\"\r\n                            className=\"share__image\"\r\n                            controls\r\n                        />\r\n                        <Cancel\r\n                            className=\"share__cancel-image\"\r\n                            onClick={() => {\r\n                                setFile(null);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                ) : null}\r\n                <ShareBottom PF={PF} />\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    function ShareTop({ PF }) {\r\n        return (\r\n            <div className=\"share__top\">\r\n                <img\r\n                    src={\r\n                        user?.profilePicture\r\n                            ? user.profilePicture\r\n                            : PF + \"/user.png\"\r\n                    }\r\n                    alt=\"you profile picture\"\r\n                    className=\"share__profilePhoto\"\r\n                />\r\n                <input\r\n                    type=\"textarea\"\r\n                    placeholder={\"whats in your mind \" + user?.userName + \"?\"}\r\n                    className=\"share__input\"\r\n                    ref={description}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    function ShareBottom() {\r\n        return (\r\n            <form className=\"share__bottom\" onSubmit={submitHandler}>\r\n                <div className=\"share__options\">\r\n                    <label htmlFor=\"file\" className=\"share__option\">\r\n                        <PermMedia htmlColor=\"red\" className=\"share__icon\" />\r\n                        <span className=\"share__optionText\">\r\n                            Photo or Video\r\n                        </span>\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"file\"\r\n                            style={{ display: \"none\" }}\r\n                            accept=\".png,.jpeg,.jpg,.mp4\"\r\n                            onChange={(e) => setFile(e.target.files[0])}\r\n                        />\r\n                    </label>\r\n                    <div className=\"share__option\">\r\n                        <Label htmlColor=\"blue\" className=\"share__icon\" />\r\n                        <span className=\"share__optionText\">Tag</span>\r\n                    </div>\r\n                    <div className=\"share__option\">\r\n                        <Room htmlColor=\"green\" className=\"share__icon\" />\r\n                        <span className=\"share__optionText\">Location</span>\r\n                    </div>\r\n                    <div className=\"share__option\">\r\n                        <EmojiEmotions\r\n                            htmlColor=\"goldenrod\"\r\n                            className=\"share__icon\"\r\n                        />\r\n                        <span className=\"share__optionText\">Feelings</span>\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    className=\"share__button\"\r\n                    style={{ display: \"flex\", alignItems: \"center\" }}\r\n                >\r\n                    {loading !== \"Share\" ? (\r\n                        <>\r\n                            <CircularProgress style={{ width: \"24px\" }} />{\" \"}\r\n                            {loading}\r\n                        </>\r\n                    ) : (\r\n                        loading\r\n                    )}\r\n                </button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n","import \"./Dropdown.css\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../../contexts/AuthContext\";\r\nimport { Share, Star, Delete } from \"@material-ui/icons\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { deleteFile } from \"../../../base\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Dropdown({\r\n    style,\r\n    postId,\r\n    stared,\r\n    postUserId,\r\n    postSrcName,\r\n    postType,\r\n}) {\r\n    const { user, dispatch } = useContext(AuthContext);\r\n    const [loading, setLoading] = useState(false);\r\n    const [isStared, setIsStared] = useState(stared);\r\n\r\n    useEffect(() => {\r\n        setIsStared(user?.staredPosts?.includes(postId));\r\n    });\r\n\r\n    const handleStar = async () => {\r\n        try {\r\n            const res = await axios.put(\"/api/posts/star/\" + postId, {\r\n                postId: postId,\r\n                userId: user._id,\r\n            });\r\n            user?.staredPosts?.includes(postId)\r\n                ? dispatch({ TYPE: \"UNSTAR\", payload: postId })\r\n                : dispatch({ TYPE: \"STAR\", payload: postId });\r\n            setIsStared(user?.staredPosts?.includes(postId));\r\n            alert(res.data.message);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            setLoading(true);\r\n            console.log(postSrcName)\r\n            await axios.delete(\"/api/posts/\" + postId, {\r\n                data: { userId: postUserId },\r\n            });\r\n            deleteFile(postSrcName, postType)\r\n                .then(() => {\r\n                    alert(\"deleted file\");\r\n                    setLoading(false);\r\n                    window.location.reload();\r\n                })\r\n                .catch((err) => {\r\n                    alert(\"error deleting file\");\r\n                });\r\n            // alert(res.data.message);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"dropdown\" style={style}>\r\n            <ul className=\"dropdown__list\">\r\n                <li\r\n                    className=\"dropdown__item\"\r\n                    onClick={() => {\r\n                        alert(\"Feature not Implemented\");\r\n                    }}\r\n                >\r\n                    <div className=\"dropdown__icon\">\r\n                        <Share />\r\n                    </div>\r\n                    <div className=\"dropdown__title\">Share</div>\r\n                </li>\r\n                {user ? (\r\n                    <li className=\"dropdown__item\" onClick={handleStar}>\r\n                        <div className=\"dropdown__icon\">\r\n                            <Star />\r\n                        </div>\r\n                        <div className=\"dropdown__title\">\r\n                            {isStared ? \"Un Star\" : \"Star\"}\r\n                        </div>\r\n                    </li>\r\n                ) : (\r\n                    <Link to=\"/login\" className=\"dropdown__item\">\r\n                        <li className=\"dropdown__item\">\r\n                            <div className=\"dropdown__icon\">\r\n                                <Star />\r\n                            </div>\r\n                            <div className=\"dropdown__title\">\r\n                                Login In to Star\r\n                            </div>\r\n                        </li>\r\n                    </Link>\r\n                )}\r\n                {postUserId && postUserId === user?._id ? (\r\n                    <li className=\"dropdown__item\" onClick={handleDelete}>\r\n                        <div className=\"dropdown__icon\">\r\n                            {loading ? <CircularProgress /> : <Delete />}\r\n                        </div>\r\n                        <div className=\"dropdown__title\">Delete</div>\r\n                    </li>\r\n                ) : null}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n","import {ShareOutlined} from \"@material-ui/icons\";\r\n\r\nexport default function ShareButton() {\r\n    return (\r\n        <div className=\"post__share\">\r\n            <ShareOutlined/>\r\n        </div>\r\n    )\r\n}\r\n","import \"./Post.css\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { MoreVert } from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { format } from \"timeago.js\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport Dropdown from \"./dropdown/Dropdown\";\r\nimport ShareButton from \"./shareButton/ShareButton\";\r\n\r\nexport default function Post({ post }) {\r\n    // console.log(\"likes array is : \",post?.likes.length)\r\n    const [likes, setLikes] = useState(post?.likes?.length || 0);\r\n    const [isLiked, setIsLiked] = useState(false);\r\n    const [user, setUser] = useState({});\r\n    const [open, setOpen] = useState(false);\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const VF = process.env.REACT_APP_PUBLIC_FOLDER_VIDEO;\r\n    const { user: currentUser } = useContext(AuthContext);\r\n\r\n    useEffect(() => {\r\n        // console.clear();\r\n        setIsLiked(post.likes.includes(currentUser?._id));\r\n    }, [currentUser, post.likes]);\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const res = await axios.get(`/api/users?userId=${post.userId}`);\r\n            setUser(res.data);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }, [post.userId]);\r\n\r\n    const opendropdown = () => {\r\n        setOpen(!open);\r\n    };\r\n\r\n    const handleLike = async () => {\r\n        try {\r\n            await axios.put(`/api/posts/${post._id}/like`, {\r\n                userId: currentUser?._id,\r\n            });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n\r\n        setIsLiked(isLiked === true ? false : true);\r\n        setLikes((like) => {\r\n            return isLiked === false ? like + 1 : likes - 1;\r\n        });\r\n    };\r\n    return (\r\n        <div className=\"post\">\r\n            {/* {open ? <Dropdown/> : null} */}\r\n            {open ? (\r\n                <Dropdown\r\n                    style={{ opacity: \"1\", visibility: \"visible\" }}\r\n                    postId={post._id}\r\n                    stared={user?.staredPosts?.includes(post?._id)}\r\n                    postUserId={post.userId}\r\n                    postSrcName={post.name}\r\n                    postType={post.srcType}\r\n                />\r\n            ) : (\r\n                <Dropdown\r\n                    style={{ opacity: \"0\", visibility: \"hidden\" }}\r\n                    postId={post._id}\r\n                    stared={user?.staredPosts?.includes(post?._id)}\r\n                    postUserId={post.userId}\r\n                    postSrcName={post.name}\r\n                    postType={post.srcType}\r\n                />\r\n            )}\r\n            <div className=\"post__wrapper\">\r\n                <div className=\"post__top\">\r\n                    <div className=\"post__topLeft\">\r\n                        <Link to={`/profile/${user?.userAddress}`}>\r\n                            <img\r\n                                src={\r\n                                    user?.profilePicture\r\n                                        ? user?.profilePicture\r\n                                        : PF + \"/user.png\"\r\n                                }\r\n                                alt=\"your photo\"\r\n                                className=\"post__profilePhoto\"\r\n                            />\r\n                        </Link>\r\n                        <span className=\"post__userName\">{user?.userName}</span>\r\n                        <span className=\"post__date\">\r\n                            {format(post.createdAt)}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"post__topRight\">\r\n                        <MoreVert\r\n                            className=\"post__more\"\r\n                            onClick={opendropdown}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <Link to={\"/post/\" + post._id} style={{ cursor: \"pointer\" }}>\r\n                    <div className=\"post__center\">\r\n                        <span className=\"post__text\">{post?.description}</span>\r\n\r\n                        {post?.srcType === \"video\" ? (\r\n                            <video\r\n                                src={post.src}\r\n                                className=\"post__image\"\r\n                                controls\r\n                            ></video>\r\n                        ) : (\r\n                            <img\r\n                                className=\"post__image\"\r\n                                src={post?.src}\r\n                                alt=\"\"\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </Link>\r\n                <div className=\"post__bottom\">\r\n                    <div className=\"post__bottomLeft\">\r\n                        {currentUser ? (\r\n                            <>\r\n                                <img\r\n                                    className=\"post__like\"\r\n                                    src=\"/assets/like.png\"\r\n                                    alt=\"like\"\r\n                                    onClick={handleLike}\r\n                                />\r\n                                <img\r\n                                    className=\"post__like\"\r\n                                    src=\"/assets/heart.png\"\r\n                                    alt=\"give a heart\"\r\n                                />\r\n                            </>\r\n                        ) : null}\r\n                        <span className=\"post__likeCounter\">{likes} likes</span>\r\n                    </div>\r\n                    <div className=\"post__bottomRight\">\r\n                        <div className=\"post__commentText\">\r\n                            {post?.comments?.length} comments\r\n                        </div>\r\n                        <ShareButton />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// http://localhost:3000/post/6134cf09956886038471255d\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Feed.css\";\r\nimport Share from \"../share/Share\";\r\nimport Post from \"../post/Post\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nexport default function Feed({\r\n    username,\r\n    stared,\r\n    popular,\r\n    profileEdit,\r\n    videos,\r\n    images,\r\n}) {\r\n    const [posts, setPosts] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    const { user } = useContext(AuthContext);\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            \r\n            const res = username\r\n                ? await axios.get(`/api/posts/profile/${username}`)\r\n                : stared\r\n                ? await axios.get(`/api/posts/stared/${user._id}`)\r\n                : popular\r\n                ? await axios.get(`/api/posts/popular`)\r\n                : videos\r\n                ? await axios.get(`/api/posts/videos`)\r\n                : images\r\n                ? await axios.get(`/api/posts/images`)\r\n                : await axios.get(`/api/posts/timeline/${user._id}`);\r\n                setLoading(false);\r\n            // console.clear();\r\n            // let body = await axios.get(\"/api/posts/profile/John\");\r\n            setPosts(res.data);\r\n        } catch (err) {\r\n            alert(\"Cant the get all posts\");\r\n        }\r\n    }, [username, user?._id, user?.following, user?.followers, user?.staredPosts]);\r\n\r\n    return (\r\n        <div className=\"feed\">\r\n            <div className=\"feed__wrapper\">\r\n                {!username || username === user?.userName || !profileEdit || !user ? (\r\n                    <Share />\r\n                ) : null}\r\n                {}\r\n                <div\r\n                    className=\"feed__posts-container\"\r\n                    style={\r\n                        loading\r\n                            ? {\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"center\",\r\n                            }\r\n                            : null\r\n                    }\r\n                >\r\n                    {loading ? (\r\n                        <CircularProgress />\r\n                    ) : (\r\n                        <>\r\n                            {posts || posts?.length != 0\r\n                                ? posts?.map((post, index) => {\r\n                                    return post ? (\r\n                                        <Post key={post._id} post={post} />\r\n                                    ) : null;\r\n                                })\r\n                                : null}\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import \"./Home.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport Sidebar from \"../../components/sidebar/SideBar\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\n\r\nexport default function Home({onlineUsers}) {\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"home-container\">\r\n                <Sidebar />\r\n                <Feed />\r\n                <RightBar onlineUsers={onlineUsers} />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import \"./Profile.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport Sidebar from \"../../components/sidebar/SideBar\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Profile() {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const [user, setUser] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n    const { userName } = useParams();\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const res = await axios.get(`/api/users?userName=${userName}`);\r\n            // console.clear();\r\n            setUser(res.data);\r\n            setLoading(false);\r\n        } catch (err) {\r\n            alert(\"User not found 😥\");\r\n        }\r\n    }, [userName]);\r\n\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"profile\" style={{ display: \"flex\", width: \"100%\" }}>\r\n                <Sidebar />\r\n                <div\r\n                    className=\"profile__right\"\r\n                    style={\r\n                        loading\r\n                            ? {\r\n                                  display: \"flex\",\r\n                                  alignItems: \"center\",\r\n                                  justifyContent: \"center\",\r\n                              }\r\n                            : null\r\n                    }\r\n                >\r\n                    {loading ? (\r\n                        <CircularProgress />\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"profile__right-top\">\r\n                                <div className=\"profile__cover\">\r\n                                    <img\r\n                                        src={\r\n                                            user?.coverPicture\r\n                                                ? user.coverPicture\r\n                                                : PF + \"/post/3.jpeg\"\r\n                                        }\r\n                                        alt=\"profile cover image\"\r\n                                        className=\"profile__coverImage\"\r\n                                    />\r\n                                    <img\r\n                                        src={\r\n                                            user?.profilePicture\r\n                                                ? user.profilePicture\r\n                                                : PF + \"/user.png\"\r\n                                        }\r\n                                        alt=\"profile photo image\"\r\n                                        className=\"profile__photoImage\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"profile__info\">\r\n                                    <h4 className=\"profile__info-userName\">\r\n                                        {user?.userName}\r\n                                    </h4>\r\n                                    <span className=\"profile__info-description\">\r\n                                        {user?.description}\r\n                                    </span>\r\n                                    <Link\r\n                                        to={\"/profile/\" + user.userAddress}\r\n                                        className=\"profile__info-description\"\r\n                                        style={{\r\n                                            fontSize: \"11pcx\",\r\n                                            color: \"rgb(0, 110, 255)\",\r\n                                        }}\r\n                                    >\r\n                                        {user?.userAddress}\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile__right-bottom\">\r\n                                <Feed username={userName} />\r\n                                <RightBar\r\n                                    user={user != {} || user ? user : null}\r\n                                    profile\r\n                                />\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\n\r\n\r\nexport const loginCall = async (userCredentials,dispatch) => {\r\n    dispatch({TYPE: 'LOGIN_START'});\r\n    try {\r\n        const response = await axios.post('/api/auth/login',userCredentials);\r\n        dispatch({TYPE: 'LOGIN_SUCCESS',payload: response.data})\r\n    } catch (error) {\r\n        dispatch({TYPE: 'LOGIN_FAILURE',payload: error})\r\n        alert(\"Login Failed\")\r\n    }\r\n}","import { useContext, useRef } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { loginCall } from \"../../apiCalls\";\r\nimport \"./Login.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Login() {\r\n    const email = useRef();\r\n    const password = useRef();\r\n    const { isFetching, error, dispatch, user } = useContext(AuthContext);\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = async(e) => {\r\n        // console.clear();\r\n        e.preventDefault();\r\n        await loginCall({ email: email.current.value, password: password.current.value }, dispatch);\r\n        history.push(\"/\")\r\n    };\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login__wrapper\">\r\n                <div className=\"login__right\">\r\n                    <h1 className=\"login__logo\">Govi Social</h1>\r\n                    <span className=\"login__description\">\r\n                        Connect with friends and the world around you on Govi\r\n                        social.\r\n                    </span>\r\n                </div>\r\n                <div className=\"login__left\">\r\n                    <form className=\"login__box\" onSubmit={handleSubmit}>\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"login__input\"\r\n                            required\r\n                            placeholder=\"Enter your Email\"\r\n                            ref={email}\r\n                        />\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"login__input\"\r\n                            required\r\n                            minLength=\"6\"\r\n                            maxLength=\"30\"\r\n                            placeholder=\"Enter your Password\"\r\n                            ref={password}\r\n                        />\r\n                        <button className=\"login__button\" disabled={isFetching}>{isFetching == true ? <CircularProgress color=\"white\" size=\"25px\"/>:\"Log In\"}</button>\r\n                        <span className=\"login__forgotPassword\">\r\n                            Forgot Password\r\n                        </span>\r\n                        <Link to=\"/register\" className=\"login__register\" disabled={isFetching}>\r\n                        {isFetching == true ? <CircularProgress color=\"white\" size=\"25px\"/>:\"Create a new account\"}\r\n                        </Link>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\nimport { useRef } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Register.css\";\r\n\r\nexport default function Register() {\r\n    const username = useRef();\r\n    const email = useRef();\r\n    const password = useRef();\r\n    const passwordConfirm = useRef();\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        // console.log(user);\r\n        // history.push(\"/\");\r\n        if (passwordConfirm.current.value !== password.current.value) {\r\n            // passwordConfirm.current.setCustomValidity(\"password don't match\");\r\n            return alert(\"Password don't match\");\r\n        } else {\r\n            const user = {\r\n                userName: username.current.value,\r\n                password,\r\n                email: email.current.value,\r\n                password: password.current.value,\r\n            };\r\n            const res = await axios\r\n                .post(\"/api/auth/register\", user)\r\n                .then((responce) => {\r\n                    if (responce.statusText == \"ok\") {\r\n                        alert(\"Register Successful\");\r\n                    }else{\r\n                        alert(responce.data.message)\r\n                    }\r\n                    console.log(responce);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    // alert(err.data.message);\r\n                });\r\n            history.push(\"/login\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login__wrapper\">\r\n                <div className=\"login__right\">\r\n                    <h1 className=\"login__logo\">Govi Social</h1>\r\n                    <span className=\"login__description\">\r\n                        Connect with friends and the world around you on Govi\r\n                        social.\r\n                    </span>\r\n                </div>\r\n                <form className=\"login__left\" onSubmit={handleSubmit}>\r\n                    <div className=\"login__box\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"login__input\"\r\n                            required\r\n                            placeholder=\"Enter your UserName\"\r\n                            ref={username}\r\n                        />\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"login__input\"\r\n                            required\r\n                            placeholder=\"Enter your Email\"\r\n                            ref={email}\r\n                        />\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"login__input\"\r\n                            required\r\n                            placeholder=\"Enter your Password\"\r\n                            ref={password}\r\n                            minLength=\"6\"\r\n                            maxLength=\"30\"\r\n                        />\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"login__input\"\r\n                            required\r\n                            placeholder=\"Confirm your Password\"\r\n                            ref={passwordConfirm}\r\n                            minLength=\"6\"\r\n                            maxLength=\"30\"\r\n                        />\r\n                        <button className=\"login__button\">Sign Up</button>\r\n                        <Link style={{ textDecoration: \"none\" }} to=\"/login\">\r\n                            <button className=\"login__register\">\r\n                                Log Into Account\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import './Comment.css'\r\nimport { Link } from \"react-router-dom\";\r\nimport { format } from \"timeago.js\";\r\nimport { useState,useEffect } from 'react';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { useContext } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function Comment({comment}) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const {user: currentUser} = useContext(AuthContext);\r\n    const [likes, setLikes] = useState(comment?.likes?.length || 0);\r\n    const [user,setUser] = useState(null);\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const res = await axios.get(`/api/users?userId=${comment.userId}`);\r\n            setUser(res.data);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }, [comment.userId]);\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"comment\">\r\n            <div className=\"comment__wrapper\">\r\n                <div className=\"comment__top\">\r\n                    <Link to={`/profile/${user?.userAddress}`}>\r\n                        <img\r\n                            src={user?.profilePicture ? user.profilePicture : PF + \"/user.png\"}\r\n                            // src=\"assets/user.png\"\r\n                            alt=\"your photo\"\r\n                            className=\"comment__profilePhoto\"\r\n                        />\r\n                    </Link>\r\n                    <span className=\"comment__userName\">{user?.userName}</span>\r\n                    <span className=\"comment__date\">{format(comment?.createdAt)}</span>\r\n                </div>\r\n                <div className=\"comment__center\">\r\n                    <span className=\"comment__text\">{comment.description}</span>\r\n                </div>\r\n                <div className=\"comment__bottom\">\r\n                    <div className=\"comment__bottomLeft\">\r\n\r\n                    </div>\r\n                    <div className=\"comment__bottomRight\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import \"./PostInfo.css\";\r\nimport { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { format } from \"timeago.js\";\r\nimport { MoreVert } from \"@material-ui/icons\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport Sidebar from \"../../components/sidebar/SideBar\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport Comment from \"../../components/Comment/Comment\";\r\nimport axios from \"axios\";\r\nimport ShareButton from \"../../components/post/shareButton/ShareButton\";\r\nimport Dropdown from \"../../components/post/dropdown/Dropdown\";\r\n\r\nexport default function PostInfo({ onlineUsers }) {\r\n    const { postId } = useParams();\r\n    const [loading, setLoading] = useState(true);\r\n    const [post, setPost] = useState();\r\n    const [user, setUser] = useState();\r\n    const { user: currentUser } = useContext(AuthContext);\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const VF = process.env.REACT_APP_PUBLIC_FOLDER_VIDEO;\r\n    const [open, setOpen] = useState(false);\r\n    const [likes, setLikes] = useState(0);\r\n    const [isLiked, setIsLiked] = useState(false);\r\n    const [reload, setReload] = useState(false);\r\n    const description = useRef();\r\n\r\n    useEffect(async () => {\r\n        const res = await axios.get(`/api/posts/${postId}`);\r\n        setPost(res.data);\r\n        setLikes(res.data.likes.length);\r\n        setIsLiked(res.data.likes.includes());\r\n        setLoading(false);\r\n    }, [postId, reload]);\r\n\r\n    useEffect(async () => {\r\n        const res = post?.userId\r\n            ? await axios.get(`/api/users?userId=${post?.userId}`)\r\n            : undefined;\r\n        setUser(res?.data);\r\n    }, [post?.userId]);\r\n\r\n    const handleLike = async () => {\r\n        try {\r\n            await axios.put(`/api/posts/${post._id}/like`, {\r\n                userId: currentUser._id,\r\n            });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n\r\n        setIsLiked(isLiked === true ? false : true);\r\n        setLikes((like) => {\r\n            return isLiked === false ? like + 1 : likes - 1;\r\n        });\r\n    };\r\n\r\n    const opendropdown = () => {\r\n        setOpen(!open);\r\n    };\r\n\r\n    const addComment = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.post(\"/api/posts/comments\", {\r\n                description: description.current.value,\r\n                postId: post?._id,\r\n                userId: currentUser._id,\r\n            });\r\n            setReload(!reload);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div\r\n                className=\"postInfo\"\r\n                style={{ display: \"flex\", width: \"100%\" }}\r\n            >\r\n                <Sidebar />\r\n                <div\r\n                    className=\"postInfo__center\"\r\n                    style={\r\n                        loading\r\n                            ? {\r\n                                  display: \"flex\",\r\n                                  alignItems: \"center\",\r\n                                  justifyContent: \"center\",\r\n                              }\r\n                            : null\r\n                    }\r\n                >\r\n                    {loading ? (\r\n                        <CircularProgress />\r\n                    ) : (\r\n                        <div className=\"post\">\r\n                            {open ? (\r\n                                <Dropdown\r\n                                    style={{\r\n                                        opacity: \"1\",\r\n                                        visibility: \"visible\",\r\n                                        right: \"-125\",\r\n                                    }}\r\n                                    postId={post?._id}\r\n                                    stared={user?.staredPosts?.includes(\r\n                                        post?._id\r\n                                    )}\r\n                                />\r\n                            ) : (\r\n                                <Dropdown\r\n                                    style={{\r\n                                        opacity: \"0\",\r\n                                        visibility: \"hidden\",\r\n                                        right: \"-125\",\r\n                                    }}\r\n                                    postId={post?._id}\r\n                                    stared={user?.staredPosts?.includes(\r\n                                        post?._id\r\n                                    )}\r\n                                />\r\n                            )}\r\n                            <div className=\"post__wrapper\">\r\n                                <div className=\"post__top\">\r\n                                    <div className=\"post__topLeft\">\r\n                                        <Link\r\n                                            to={`/profile/${user?.userAddress}`}\r\n                                        >\r\n                                            <img\r\n                                                src={\r\n                                                    user?.profilePicture !==\r\n                                                        \"\" ||\r\n                                                    user?.profilePicture\r\n                                                        ? user?.profilePicture\r\n                                                        : PF + \"/user.png\"\r\n                                                }\r\n                                                alt=\"your photo\"\r\n                                                className=\"post__profilePhoto\"\r\n                                            />\r\n                                        </Link>\r\n                                        <span className=\"post__userName\">\r\n                                            {user?.userName}\r\n                                        </span>\r\n                                        <span className=\"post__date\">\r\n                                            {format(post?.createdAt)}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"post__topRight\">\r\n                                        <MoreVert\r\n                                            className=\"post__more\"\r\n                                            onClick={opendropdown}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"post__center\">\r\n                                    <span className=\"post__text\">\r\n                                        {post?.description}\r\n                                    </span>\r\n\r\n                                    {post?.srcType === \"video\" ? (\r\n                                        <video\r\n                                            src={post.src}\r\n                                            className=\"post__image\"\r\n                                            controls\r\n                                        ></video>\r\n                                    ) : (\r\n                                        <img\r\n                                            className=\"post__image\"\r\n                                            src={post?.src}\r\n                                            alt=\"\"\r\n                                        />\r\n                                    )}\r\n                                    {/* <img\r\n                                    className=\"post__image\"\r\n                                    src={PF + \"/\" + \"ad.png\"}\r\n                                    alt=\"\"\r\n                                /> */}\r\n                                </div>\r\n                                <div className=\"post__bottom\">\r\n                                    <div className=\"post__bottomLeft\">\r\n                                        {currentUser ? (\r\n                                            <>\r\n                                                <img\r\n                                                    className=\"post__like\"\r\n                                                    src=\"/assets/like.png\"\r\n                                                    alt=\"like\"\r\n                                                    onClick={handleLike}\r\n                                                />\r\n                                                <img\r\n                                                    className=\"post__like\"\r\n                                                    src=\"/assets/heart.png\"\r\n                                                    alt=\"give a heart\"\r\n                                                />\r\n                                            </>\r\n                                        ) : null}\r\n                                        <span className=\"post__likeCounter\">\r\n                                            {likes} likes\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"post__bottomRight\">\r\n                                        <div className=\"post__commentText\">\r\n                                            {post?.comments?.length} comments\r\n                                        </div>\r\n                                        <div className=\"post__share\">\r\n                                            <ShareButton />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                {currentUser ? (\r\n                                    <div className=\"share\">\r\n                                        <div className=\"share__wrapper\">\r\n                                            <form\r\n                                                className=\"share__top\"\r\n                                                onSubmit={addComment}\r\n                                            >\r\n                                                <img\r\n                                                    src={\r\n                                                        user?.profilePicture !==\r\n                                                        \"\"\r\n                                                            ? user?.profilePicture\r\n                                                            : PF + \"/user.png\"\r\n                                                    }\r\n                                                    alt=\"you profile picture\"\r\n                                                    className=\"share__profilePhoto\"\r\n                                                />\r\n                                                <input\r\n                                                    type=\"textarea\"\r\n                                                    placeholder={\r\n                                                        \"What you Think \" +\r\n                                                        currentUser?.userName +\r\n                                                        \"?\"\r\n                                                    }\r\n                                                    className=\"share__input\"\r\n                                                    ref={description}\r\n                                                />\r\n                                                <button className=\"share__comment_btn\">\r\n                                                    Submit\r\n                                                </button>\r\n                                            </form>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <h1\r\n                                        style={{\r\n                                            margin: \"10px\",\r\n                                            marginTop: \"38px\",\r\n                                            fontWeight: \"lighter\",\r\n                                        }}\r\n                                    >\r\n                                        Please Log In to add Comment or Like\r\n                                    </h1>\r\n                                )}\r\n\r\n                                <div className=\"postInfo__comment-container\">\r\n                                    {post?.comments?.map((comment) => (\r\n                                        <Comment comment={comment} />\r\n                                    ))}\r\n                                    {/* <Comment />\r\n                                <Comment />\r\n                                <Comment /> */}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <RightBar onlineUsers={onlineUsers} />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import \"./SearchResult.css\";\r\nimport Post from \"../../components/post/Post\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function SearchResult() {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const { query } = useParams();\r\n    const { user: currentUser } = useContext(AuthContext);\r\n    const [searchUserResults, setUserResults] = useState([]);\r\n    const [searchPostResults, setPostResults] = useState([]);\r\n\r\n    useEffect(async () => {\r\n        try{\r\n            const res = await axios.get(\"/api/users/query?q=\" + query || \" \");\r\n            setUserResults(res.data.filter(user => user._id !== currentUser?._id));\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n\r\n    }, [query]);\r\n\r\n    useEffect(async () => {\r\n        try{\r\n            const res = await axios.get(\"/api/posts/query?q=\" + query);\r\n            setPostResults(res.data);\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n\r\n    },[query])\r\n\r\n    return (\r\n        <div className=\"search__result\">\r\n            <div className=\"search__ResultsFound\">\r\n                {searchUserResults?.length} users found\r\n            </div>\r\n            <div className=\"search__userResults\">\r\n                {searchUserResults?.length > 0\r\n                    ? searchUserResults.map((user) => {\r\n                            return (\r\n                                <Link\r\n                                    to={`/profile/${user?.userAddress}`}\r\n                                    className=\"result__user\"\r\n                                >\r\n                                    <img\r\n                                        src={\r\n                                            user.profilePicture !== \"\"\r\n                                                ? user.profilePicture\r\n                                                : PF + \"/user.png\"\r\n                                        }\r\n                                        alt=\"user image\"\r\n                                        className=\"result__userImage\"\r\n                                    />\r\n                                    <span className=\"result__userName\">\r\n                                        {user.userName}\r\n                                    </span>\r\n                                </Link>\r\n                            );\r\n                    })\r\n                    : null}\r\n            </div>\r\n            <div className=\"search__ResultsFound\">{searchPostResults?.length} posts found</div>\r\n            <div className=\"search__postResults\">\r\n            {searchPostResults?.length > 0\r\n                    ? searchPostResults.map((post) => {\r\n                            return (\r\n                                <Post post={post}/>\r\n                            );\r\n                    })\r\n                    : null}\r\n\r\n            </div>\r\n            Result\r\n        </div>\r\n    );\r\n}\r\n","import \"./Search.css\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport SearchResult from \"../../components/searchResult/SearchResult\";\r\n\r\nexport default function Search({onlineUsers}) {\r\n    return (\r\n        <>\r\n        <TopBar/>\r\n        <div className=\"search\">\r\n            <div className=\"search__wrapper\">\r\n                <div className=\"search__left\">\r\n                    <SideBar/>\r\n                </div>\r\n                <div className=\"search__center\">\r\n                    <SearchResult/>\r\n                </div>\r\n                <div className=\"search__right\">\r\n                    <RightBar onlineUsers={onlineUsers}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n","import \"./Stared.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport Sidebar from \"../../components/sidebar/SideBar\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\n\r\nexport default function Stared({onlineUsers}) {\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"home-container\">\r\n                <Sidebar />\r\n                <Feed stared/>\r\n                <RightBar onlineUsers={onlineUsers}/>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import TopBar from \"../../components/topbar/TopBar\";\r\nimport Sidebar from \"../../components/sidebar/SideBar\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\n\r\nexport default function Videos({onlineUsers}) {\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"home-container\">\r\n                <Sidebar />\r\n                <Feed videos/>\r\n                <RightBar onlineUsers={onlineUsers}/>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import TopBar from \"../../components/topbar/TopBar\";\r\nimport Sidebar from \"../../components/sidebar/SideBar\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\n\r\nexport default function Images({onlineUsers}) {\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"home-container\">\r\n                <Sidebar />\r\n                <Feed images/>\r\n                <RightBar onlineUsers={onlineUsers}/>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import TopBar from \"../../components/topbar/TopBar\";\r\nimport Sidebar from \"../../components/sidebar/SideBar\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\n\r\nexport default function Popular({onlineUsers}) {\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"home-container\">\r\n                <Sidebar />\r\n                <Feed popular />\r\n                <RightBar onlineUsers={onlineUsers}/>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import \"./Followers.css\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Followers({ friend, onlineUsers }) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const [followers, setFollowers] = useState(null);\r\n    // const { user } = useContext(AuthContext);\r\n    const { userId } = useParams();\r\n\r\n    useEffect(() => {\r\n        const getFollowers = async () => {\r\n            try {\r\n                const res = await axios.get(`/api/users/followers/${userId}`);\r\n                // console.clear();\r\n                setFollowers(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        getFollowers();\r\n    }, [userId]);\r\n\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"home-container\">\r\n                <SideBar />\r\n                <div className=\"feed\">\r\n                    <h1 className=\"followers__Title\">Followers</h1>\r\n                    <div className=\"followers__users\">\r\n                        {followers?.map((follower) => {\r\n                            return (\r\n                                <Link\r\n                                    to={`/profile/${follower?.userAddress}`}\r\n                                    className=\"result__user\"\r\n                                >\r\n                                    <img\r\n                                        src={\r\n                                            follower?.profilePicture\r\n                                                ? follower.profilePicture\r\n                                                : PF + \"/user.png\"\r\n                                        }\r\n                                        alt=\"user image\"\r\n                                        className=\"result__userImage\"\r\n                                    />\r\n                                    <span className=\"result__userName\">\r\n                                        {follower.userName}\r\n                                    </span>\r\n                                </Link>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <RightBar onlineUsers={onlineUsers} />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import \"./Followings.css\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Followings({ friend, onlineUsers }) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const [followers, setFollowers] = useState(null);\r\n    const { userId } = useParams();\r\n\r\n    useEffect(() => {\r\n        const getFollowings = async () => {\r\n            try {\r\n                const res = await axios.get(`/api/users/friends/${userId}`);\r\n                // console.clear();\r\n                setFollowers(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        getFollowings();\r\n    }, [userId]);\r\n\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"home-container\">\r\n                <SideBar />\r\n                <div className=\"feed\">\r\n                    <h1 className=\"followers__Title\">Friends</h1>\r\n                    <div className=\"followers__users\">\r\n                        {followers?.map((follower) => {\r\n                            return (\r\n                                <Link\r\n                                    to={`/profile/${follower?.userAddress}`}\r\n                                    className=\"result__user\"\r\n                                >\r\n                                    <img\r\n                                        src={\r\n                                            follower?.profilePicture\r\n                                                ? follower.profilePicture\r\n                                                : PF + \"/user.png\"\r\n                                        }\r\n                                        alt=\"user image\"\r\n                                        className=\"result__userImage\"\r\n                                    />\r\n                                    <span className=\"result__userName\">\r\n                                        {follower.userName}\r\n                                    </span>\r\n                                </Link>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <RightBar onlineUsers={onlineUsers} />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import \"./ProfileEdit.css\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, useHistory } from \"react-router\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport Sidebar from \"../../components/sidebar/SideBar\";\r\nimport RightBar from \"../../components/rightbar/RightBar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport { upload } from \"../../base\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nexport default function ProfileEdit() {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const history = useHistory();\r\n    const { dispatch, user: currentUser } = useContext(AuthContext);\r\n    const [user, setUser] = useState(null);\r\n    const [profilePic, setProfilePic] = useState(null);\r\n    const [coverPic, setCoverPic] = useState(null);\r\n    const [name, setName] = useState(null);\r\n    const [description, setDescription] = useState(null);\r\n    const [relationship, setRelationship] = useState(\"single\");\r\n    const [loading, setLoading] = useState(\"Update\");\r\n    const [from, setFrom] = useState(null);\r\n    const [city, setCity] = useState(null);\r\n    const { userId } = useParams();\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const res = await axios.get(`/api/users?userId=${userId}`);\r\n            // console.clear();\r\n            setFrom(user?.from);\r\n            setUser(res.data);\r\n            setCity(user?.city);\r\n            setName(user?.userName);\r\n            setRelationship(user?.relationship);\r\n            setDescription(user?.description);\r\n        } catch (err) {\r\n            alert(\"User not found 😥\");\r\n        }\r\n    }, [userId, currentUser]);\r\n\r\n    const updateProfile = async () => {\r\n        let updateObj = {};\r\n        if (relationship) {\r\n            updateObj.relationship = relationship;\r\n        }\r\n        if (name) {\r\n            updateObj.userName = name;\r\n        }\r\n        if (city) {\r\n            updateObj.city = city;\r\n        }\r\n        if (from) {\r\n            updateObj.from = from;\r\n        }\r\n        if (description) {\r\n            updateObj.description = description;\r\n        }\r\n        if (profilePic != undefined || profilePic != null) {\r\n            const fileName = `${Date.now()}_SocialMedia_Id_${Math.floor(\r\n                Math.random() * 1000\r\n            )}_${profilePic.name}`;\r\n            // let data = new FormData();\r\n            // data.append(\"name\", fileName);\r\n            // data.append(\"file\", profilePic);\r\n            setLoading(\"Uploading Profile Picture\");\r\n            // const u = await axios.post(\"/api/upload\", data);\r\n            const url = await upload(profilePic, fileName);\r\n            updateObj.profilePicture = url;\r\n        }\r\n        if (coverPic != undefined || coverPic != null) {\r\n            const fileName = `${Date.now()}_SocialMedia_Id_${Math.floor(\r\n                Math.random() * 1000\r\n            )}_${coverPic.name}`;\r\n            // let data = new FormData();\r\n            // data.append(\"name\", fileName);\r\n            // data.append(\"file\", coverPic);\r\n            const url = await upload(coverPic, fileName);\r\n            updateObj.coverPicture = url;\r\n        }\r\n        try {\r\n            setLoading(\"Updating...\");\r\n            const res = await axios.put(\"/api/users/\" + user?._id, {\r\n                ...updateObj,\r\n                userId: currentUser?._id,\r\n            });\r\n            dispatch({ TYPE: \"UPDATE\", payload: updateObj });\r\n            alert(res.data.message);\r\n            history.push(\"/\");\r\n        } catch (err) {\r\n            console.log(err);\r\n            alert(\"Update profile failed 😢\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"profile\" style={{ display: \"flex\", width: \"100%\" }}>\r\n                <Sidebar />\r\n                {user?._id === currentUser._id ? (\r\n\r\n                <div className=\"profile__right\">\r\n                    <div className=\"profile__right-top\">\r\n                        <div className=\"profile__cover\">\r\n                            <img\r\n                                src={\r\n                                    coverPic\r\n                                        ? URL.createObjectURL(coverPic)\r\n                                        : PF + \"/post/3.jpeg\"\r\n                                }\r\n                                alt=\"profile cover image\"\r\n                                className=\"profile__coverImage\"\r\n                            />\r\n                            <img\r\n                                src={\r\n                                    profilePic\r\n                                        ? URL.createObjectURL(profilePic)\r\n                                        : PF + \"/user.png\"\r\n                                }\r\n                                alt=\"profile photo image\"\r\n                                className=\"profile__photoImage\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"profile__info\">\r\n                            <h4 className=\"profile__info-userName\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    style={{\r\n                                        height: \"2rem\",\r\n                                        fontSize: \"1.8rem\",\r\n                                        margin: \"1rem\",\r\n                                    }}\r\n                                    placeholder=\"Enter your Name\"\r\n                                    value={name}\r\n                                    onChange={(e) => {\r\n                                        setName(e.target.value);\r\n                                    }}\r\n                                />\r\n                            </h4>\r\n                            <span className=\"profile__info-description\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter your description\"\r\n                                    value={description}\r\n                                    onChange={(e) => {\r\n                                        setDescription(e.target.value);\r\n                                    }}\r\n                                />\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"profile__right-bottom\">\r\n                        <div style={{ margin: \"10px\" }}>\r\n                            <button className=\"choosepicbtn\">\r\n                                <label\r\n                                    htmlFor=\"profilePic\"\r\n                                    style={{ cursor: \"pointer\" }}\r\n                                >\r\n                                    Chose your profile picture\r\n                                </label>\r\n                            </button>\r\n                            <input\r\n                                type=\"file\"\r\n                                name=\"profilePic\"\r\n                                id=\"profilePic\"\r\n                                style={{ display: \"none\" }}\r\n                                onChange={(e) => {\r\n                                    setProfilePic(e.target.files[0]);\r\n                                }}\r\n                                accept=\".png,.jpeg,.jpg\"\r\n                            />\r\n                        </div>\r\n                        <div style={{ margin: \"10px\" }}>\r\n                            <button className=\"choosepicbtn\">\r\n                                <label\r\n                                    htmlFor=\"coverPic\"\r\n                                    style={{ cursor: \"pointer\" }}\r\n                                >\r\n                                    Chose your Cover picture\r\n                                </label>\r\n                            </button>\r\n                            <input\r\n                                type=\"file\"\r\n                                name=\"coverPic\"\r\n                                id=\"coverPic\"\r\n                                style={{ display: \"none\" }}\r\n                                onChange={(e) => {\r\n                                    setCoverPic(e.target.files[0]);\r\n                                }}\r\n                                accept=\".png,.jpeg,.jpg\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"rightbar__info\">\r\n                        <div className=\"rightbar__info-item\">\r\n                            <span className=\"rightbar__info-key\">City</span>\r\n                            <input\r\n                                className=\"rightbar__info-value\"\r\n                                type=\"text\"\r\n                                value={city}\r\n                                onChange={(e) => {\r\n                                    setCity(e.target.value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"rightbar__info-item\">\r\n                            <span className=\"rightbar__info-key\">From</span>\r\n                            <input\r\n                                className=\"rightbar__info-value\"\r\n                                type=\"text\"\r\n                                value={from}\r\n                                onChange={(e) => {\r\n                                    setFrom(e.target.value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"rightbar__info-item\">\r\n                            <span className=\"rightbar__info-key\">\r\n                                Relationship\r\n                            </span>\r\n                            <select\r\n                                className=\"rightbar__info-value\"\r\n                                onChange={(e) => {\r\n                                    setRelationship(e.target.value);\r\n                                }}\r\n                            >\r\n                                <option value=\"single\">Single</option>\r\n                                <option value=\"married\">Married</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"btn-group\">\r\n                        <button\r\n                            onClick={() => {\r\n                                history.push(\"/\");\r\n                            }}\r\n                            className=\"choosepicbtn\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            onClick={updateProfile}\r\n                            className=\"choosepicbtn\"\r\n                        >\r\n                            {loading !== \"Update\" ? (\r\n                                <>\r\n                                    <CircularProgress />\r\n                                    {loading}\r\n                                </>\r\n                            ) : (\r\n                                loading\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                ): (<h1>You can Only Edit Your Profile</h1>)}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Conversations.css\";\r\n\r\nexport default function Conversations({ conversation, currentUser }) {\r\n    const [user, setUser] = useState(null);\r\n    const PF =\r\n        process.env.REACT_APP_PUBLIC_FOLDER || \"http://localhost:5000/images\";\r\n\r\n    useEffect(() => {\r\n        const friendId = conversation.members.find((m) => {\r\n            return m !== currentUser?._id;\r\n        });\r\n\r\n        const getUser = async () => {\r\n            try {\r\n                const res = await axios.get(`/api/users?userId=${friendId}`);\r\n                setUser(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n                alert(\"Could not get user\");\r\n            }\r\n        };\r\n        getUser();\r\n    }, [currentUser,conversation]);\r\n\r\n    return (\r\n        <div className=\"conversations\">\r\n            <Link to={`/profile/${user?.userAddress}`}>\r\n                <img\r\n                    src={\r\n                        user?.profilePicture\r\n                            ? user.profilePicture\r\n                            : PF + \"/user.png\"\r\n                    }\r\n                    alt=\"\"\r\n                    className=\"conversations__image\"\r\n                />\r\n            </Link>\r\n            <span className=\"conversations__name\">{user?.userName}</span>\r\n        </div>\r\n    );\r\n}\r\n","import './Message.css';\r\nimport {format } from \"timeago.js\" \r\n\r\nexport default function Message({own,message}) {\r\n\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER || \"http://localhost:5000/images\";\r\n\r\n    return (\r\n        <div className={own ? \"message own\" : \"message\"}>\r\n            <div className=\"message__top\">\r\n                <img className=\"message__image\" src={PF + '/user.png'} alt=\"Friends Image\" />\r\n                <p className=\"message__text\">{message.text}</p>\r\n            </div>\r\n            <div className=\"message__bottom\">\r\n                {format(message.createdAt)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./ChatOnline.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function ChatOnline({\r\n    userId,\r\n    setCurrentChat,\r\n    setCurrent,\r\n    setOnlineUsers,\r\n    onlineUsers,\r\n}) {\r\n    const [friends, setFriends] = useState([]);\r\n    const [onlineFriends, setOnlineFriends] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const getFriends = async () => {\r\n            try {\r\n                const res = await axios.get(\"/api/users/friends/\" + userId);\r\n                setFriends(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n                alert(\"Failed to get friends\");\r\n            }\r\n        };\r\n        getFriends();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setOnlineFriends(\r\n            friends.filter((f) => {\r\n                return onlineUsers.includes(f._id);\r\n            })\r\n        );\r\n    }, [friends, onlineUsers]);\r\n\r\n    const PF =\r\n        process.env.REACT_APP_PUBLIC_FOLDER || \"http://localhost:5000/images\";\r\n\r\n    return (\r\n        <div className=\"chat__online\">\r\n            {onlineFriends?.map((online) => {\r\n                return (\r\n                    <Link className=\"chat__online-friend\" to={\"/profile/\" + online.userAddress}>\r\n                        <div className=\"chat__online-image-container\">\r\n                            <img\r\n                                src={\r\n                                    online?.profilePicture\r\n                                        ? online?.profilePicture\r\n                                        : PF + \"/user.png\"\r\n                                }\r\n                                alt=\"\"\r\n                                className=\"chat__online-image\"\r\n                            />\r\n                            <div className=\"chat__online-badge\"></div>\r\n                        </div>\r\n                        <div className=\"chat__online-name\">\r\n                            {online.userName}\r\n                        </div>\r\n                    </Link>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n","import Conversations from \"../../components/Conversations/Conversations\";\r\nimport Message from \"../../components/Message/Message\";\r\nimport ChatOnline from \"../../components/ChatOnline/ChatOnline\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport \"./Messenger.css\";\r\nimport { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\nimport { ArrowBack, ArrowForward } from \"@material-ui/icons\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nexport default function Messenger({ socket, onlineUsers, setOnlineUsers }) {\r\n    const [conversations, setConversations] = useState([]);\r\n    const [currentChat, setCurrentChat] = useState(null);\r\n    const [messages, setMessages] = useState(null);\r\n    const [arrivalMessage, setArrivalMessage] = useState(null);\r\n    const [sideClass, setSideClass] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const { user } = useContext(AuthContext);\r\n    const scrollRef = useRef();\r\n\r\n    useEffect(() => {\r\n        // socket.current = io(\"ws://localhost:8080\");\r\n        if (socket && user) {\r\n            socket?.current?.on(\"getMessage\", (data) => {\r\n                setArrivalMessage({\r\n                    sender: data.senderId,\r\n                    text: data.text,\r\n                    createdAt: data.createdAt,\r\n                });\r\n            });\r\n        }\r\n    }, [socket, user]);\r\n\r\n    useEffect(() => {\r\n        arrivalMessage &&\r\n            currentChat?.members?.includes(arrivalMessage.sender) &&\r\n            setMessages((prev) => {\r\n                return [...prev, arrivalMessage];\r\n            });\r\n    }, [arrivalMessage, currentChat]);\r\n\r\n    // useEffect(() => {\r\n    //     socket?.current?.emit(\"addUser\", user._id);\r\n    //     socket?.current?.on(\"getUsers\", (users) => {\r\n    //         console.log(users);\r\n    //         setOnlineUsers(user.followings.filter(f => {\r\n    //             return users.some(u => u.userId === f)\r\n    //         }));\r\n    //     });\r\n    // }, [user]);\r\n\r\n    useEffect(() => {\r\n        const getConversations = async () => {\r\n            try {\r\n                const res = await axios.get(\"/api/conversations/\" + user._id);\r\n                setConversations(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n                alert(\"Could not get Conversations 😢\");\r\n            }\r\n        };\r\n        getConversations();\r\n    }, [user?._id]);\r\n\r\n    useEffect(() => {\r\n        const getMessages = async () => {\r\n            try {\r\n                const res = await axios.get(`/api/messages/${currentChat._id}`);\r\n                setMessages(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n                alert(\"Could not get Messages\");\r\n            }\r\n        };\r\n        if (currentChat) {\r\n            getMessages();\r\n        }\r\n    }, [currentChat?._id]);\r\n\r\n    useEffect(() => {\r\n        scrollRef?.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, [messages ? messages : null]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const message = {\r\n            sender: user?._id,\r\n            text: newMessage,\r\n            conversationId: currentChat?._id,\r\n        };\r\n        const receiverId = currentChat?.members.find((m) => {\r\n            return m !== user?._id;\r\n        });\r\n        console.log({\r\n            senderId: user?._id,\r\n            receiverId: receiverId,\r\n            text: newMessage,\r\n        });\r\n\r\n\r\n        setLoading(true);\r\n        \r\n        socket.current.emit(\"sendMessage\", {\r\n            senderId: user?._id,\r\n            receiverId: receiverId,\r\n            text: newMessage,\r\n        });\r\n        try {\r\n            const res = await axios.post(\"/api/messages\", message);\r\n            socket.current.emit();\r\n            setLoading(false);\r\n            setMessages([...messages, res.data]);\r\n            setNewMessage(\"\");\r\n        } catch (err) {\r\n            console.log(err);\r\n            setLoading(false);\r\n            alert(\"Could not send message\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <div className=\"messenger\">\r\n                <div className={sideClass ? \"chat__menu conversation-active\" : \"chat__menu\"}>\r\n                    <div className=\"chat__menu-wrapper\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search for Friends\"\r\n                            className=\"chat__menu-input\"\r\n                        />\r\n                        {conversations?.map((conversation) => {\r\n                            return (\r\n                                <div\r\n                                    onClick={() => {\r\n                                        setCurrentChat(conversation);\r\n                                    }}\r\n                                >\r\n                                    <Conversations\r\n                                        conversation={conversation}\r\n                                        currentUser={user}\r\n                                        key={conversation._id}\r\n                                    />\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className={\r\n                        !sideClass\r\n                            ? \"sidebar__toggle-active sidebar__toggle\"\r\n                            : \"sidebar__toggle\"\r\n                    }\r\n                    onClick={() => {\r\n                        setSideClass(!sideClass);\r\n                    }}\r\n                    style={{width:\"max-content\", height:\"max-content\",\"cursor\":\"pointer\"}}\r\n                >\r\n                    {sideClass ? <ArrowBack /> : <ArrowForward />}{\" \"}\r\n                    {sideClass ? \"Show Conversations\" : \"Hide Conversations\"}\r\n                </div>\r\n                <div className=\"chat__box\">\r\n                    <div className=\"chat__box-wrapper\">\r\n                        {currentChat ? (\r\n                            <>\r\n                                <div className=\"chat__box-top\">\r\n                                    {messages?.map((message) => {\r\n                                        const isOwn =\r\n                                            message?.sender === user._id\r\n                                                ? true\r\n                                                : false;\r\n                                        return (\r\n                                            <div ref={scrollRef}>\r\n                                                <Message\r\n                                                    message={message}\r\n                                                    own={isOwn}\r\n                                                    key={message._id}\r\n                                                />\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                                <div className=\"chat__box-bottom\">\r\n                                    <textarea\r\n                                        className=\"chat__message-input\"\r\n                                        placeholder=\"Write Something.....\"\r\n                                        onChange={(e) => {\r\n                                            setNewMessage(e.target.value);\r\n                                        }}\r\n                                        value={newMessage}\r\n                                    />\r\n                                    <button\r\n                                        className=\"chat__submit-button\"\r\n                                        onClick={handleSubmit}\r\n                                    >\r\n                                        {loading ? <CircularProgress/> : \"Send\"}\r\n                                    </button>\r\n                                </div>\r\n                            </>\r\n                        ) : (\r\n                            <span className=\"chat__noConversation\">\r\n                                Open a Conversations to start Chatting\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"chat__online\">\r\n                    <div className=\"chat__online-wrapper\">\r\n                        <ChatOnline\r\n                            onlineUsers={onlineUsers}\r\n                            setOnlineUsers={setOnlineUsers}\r\n                            userId={user._id}\r\n                            setCurrentChat={setCurrentChat}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import Home from \"./pages/Home/Home\";\r\nimport Profile from \"./pages/Profile/Profile\";\r\nimport Login from \"./pages/Login/Login\";\r\nimport Register from \"./pages/Register/Register\";\r\nimport PostInfo from \"./pages/PostInfo/PostInfo\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Redirect,\r\n} from \"react-router-dom\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"./contexts/AuthContext\";\r\nimport Search from \"./pages/Search/Search\";\r\nimport Stared from \"./pages/StaredPosts/Stared\";\r\nimport Videos from \"./pages/Videos/Videos\";\r\nimport Images from \"./pages/Images/Images\";\r\nimport Popular from \"./pages/Popular/Popular\";\r\nimport Followers from \"./pages/Followers/Followers\";\r\nimport Followings from \"./pages/Followings/Followings\";\r\nimport ProfileEdit from \"./pages/ProfileEdit/ProfileEdit\";\r\nimport Messenger from \"./pages/Messenger/Messenger\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nfunction App() {\r\n    const { user } = useContext(AuthContext);\r\n    const [socket, setSocket] = useState(null);\r\n    const [onlineUsers, setOnlineUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            const res = io(\"https://nameless-chamber-90432.herokuapp.com/\");\r\n            setSocket({ current: res });\r\n        }\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        if (user && socket) {\r\n            socket?.current?.emit(\"addUser\", user?._id);\r\n            socket?.current?.on(\"getUsers\", (users) => {\r\n                setOnlineUsers(\r\n                    user.followings.filter((f) => {\r\n                        return users.some((u) => u.userId === f);\r\n                    })\r\n                );\r\n            });\r\n        }\r\n    }, [user,socket]);\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <Router>\r\n                <Switch>\r\n                    <Route path=\"/register\" exact>\r\n                        {user ? <Redirect to=\"/\" /> : <Register />}\r\n                    </Route>\r\n\r\n                    <Route path=\"/login\" exact>\r\n                        {user ? <Redirect to=\"/\" /> : <Login />}\r\n                    </Route>\r\n\r\n                    <Route path=\"/profile/:userName\" exact>\r\n                        <Profile />\r\n                    </Route>\r\n\r\n                    <Route path=\"/profile/:userId/edit\" exact>\r\n                        {!user ? <Redirect to=\"/\" /> : <ProfileEdit />}\r\n                    </Route>\r\n\r\n                    <Route path=\"/post/:postId\" exact>\r\n                        <PostInfo onlineUsers={onlineUsers} />\r\n                    </Route>\r\n\r\n                    <Route path=\"/search/:query\" exact>\r\n                        <Search onlineUsers={onlineUsers} />\r\n                    </Route>\r\n\r\n                    <Route path=\"/popular\" exact>\r\n                        <Popular onlineUsers={onlineUsers} />\r\n                    </Route>\r\n\r\n                    <Route path=\"/stared\" exact>\r\n                        {!user ? (\r\n                            <Redirect to=\"/\" />\r\n                        ) : (\r\n                            <Stared onlineUsers={onlineUsers} />\r\n                        )}\r\n                    </Route>\r\n\r\n                    <Route path=\"/videos\" exact>\r\n                        <Videos onlineUsers={onlineUsers} />\r\n                    </Route>\r\n\r\n                    <Route path=\"/images\" exact>\r\n                        <Images onlineUsers={onlineUsers} />\r\n                    </Route>\r\n\r\n                    <Route path=\"/friends/:userId\">\r\n                        <Followings onlineUsers={onlineUsers} />\r\n                    </Route>\r\n\r\n                    <Route path=\"/followers/:userId\">\r\n                        {/* {user ? <Followers /> : <Register />} */}\r\n                        <Followers onlineUsers={onlineUsers} />\r\n                    </Route>\r\n\r\n                    <Route path=\"/conversation\">\r\n                        {user ? (\r\n                            <Messenger\r\n                                socket={socket}\r\n                                onlineUsers={onlineUsers}\r\n                                setOnlineUsers={setOnlineUsers}\r\n                            />\r\n                        ) : (\r\n                            <Register />\r\n                        )}\r\n                    </Route>\r\n\r\n                    <Route path=\"/\">\r\n                        {user ? (\r\n                            <Home onlineUsers={onlineUsers} />\r\n                        ) : (\r\n                            <Register />\r\n                        )}\r\n                    </Route>\r\n                </Switch>\r\n            </Router>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./contexts/AuthContext\";\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <AuthContextProvider>\n            <App />\n        </AuthContextProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}